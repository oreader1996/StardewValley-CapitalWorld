<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<TargetFramework>net6.0</TargetFramework>
		<ImplicitUsings>enable</ImplicitUsings>
		<Nullable>enable</Nullable>
	</PropertyGroup>

	<!-- ⬇️⬇️⬇️ 核心修复逻辑 ⬇️⬇️⬇️ -->

	<!-- 1. 本地开发配置：只有当电脑上真的有这个文件夹时，才设置路径 -->
	<!-- 注意：不要加最后的反斜杠 -->
	<PropertyGroup Condition="Exists('D:\SteamLibrary\steamapps\common\Stardew Valley')">
		<GamePath>D:\SteamLibrary\steamapps\common\Stardew Valley</GamePath>
	</PropertyGroup>

	<!-- 2. GitHub Actions 配置：只要检测到 CI=true，或者没找到游戏路径，就强制禁用部署 -->
	<PropertyGroup Condition="'$(CI)' == 'true' OR '$(GamePath)' == ''">
		<EnableModDeploy>false</EnableModDeploy>
		<EnableGameDebugging>false</EnableGameDebugging>
	</PropertyGroup>

	<!-- ⬆️⬆️⬆️ 修改结束 ⬆️⬆️⬆️ -->

	<ItemGroup>
		<PackageReference Include="Pathoschild.Stardew.ModBuildConfig" Version="4.4.0" />
	</ItemGroup>

	<ItemGroup>
		<None Include=".github\workflows\release.yml" />
	</ItemGroup>

</Project>