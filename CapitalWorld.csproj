<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<TargetFramework>net6.0</TargetFramework>
		<ImplicitUsings>enable</ImplicitUsings>
		<Nullable>enable</Nullable>
	</PropertyGroup>

	<PropertyGroup>
		<MyLocalGamePath>D:\SteamLibrary\steamapps\common\Stardew Valley</MyLocalGamePath>
	</PropertyGroup>

	<!-- 场景 A：如果本地路径存在（你的电脑） -->
	<PropertyGroup Condition="Exists('$(MyLocalGamePath)')">
		<GamePath>$(MyLocalGamePath)</GamePath>
		<EnableModDeploy>true</EnableModDeploy>
		<EnableGameDebugging>true</EnableGameDebugging>
	</PropertyGroup>

	<!-- 场景 B：如果本地路径不存在（GitHub 服务器） -->
	<PropertyGroup Condition="!Exists('$(MyLocalGamePath)')">
		<!-- 这里的关键是：绝对不要设置 GamePath，让它保持为空 -->
		<!-- 只要 GamePath 为空，Pathoschild 包就会使用内部 DLL 进行编译 -->
		<EnableModDeploy>false</EnableModDeploy>
		<EnableGameDebugging>false</EnableGameDebugging>
	</PropertyGroup>

	<ItemGroup>
		<PackageReference Include="Pathoschild.Stardew.ModBuildConfig" Version="4.4.0" />
	</ItemGroup>

	<ItemGroup>
		<None Include=".github\workflows\release.yml.back" />
		<None Include=".github\workflows\release2.yml" />
	</ItemGroup>

</Project>